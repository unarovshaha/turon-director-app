import{r as h,b as D,j as l,a5 as B,d as k,B as u,c as o,e as d,A as p,h as m,b0 as $,k as P}from"./index-CkEM-py_.js";import{C as S}from"./confirmModal-C-ANFt90.js";const q="_capital__wrapper_165i4_1",z="_capital__box_165i4_6",R="_capital__img_165i4_24",E="_capital__descr_165i4_29",_={capital__wrapper:q,capital__box:z,capital__img:R,capital__descr:E},w="/assets/defaultImg-Bv0KiLJD.svg",ia=h.memo(({capitalData:e,isCanView:a})=>{const i=D();return l.jsx("div",{className:_.capital,children:l.jsx("div",{className:_.capital__wrapper,children:e?.map((n,t)=>l.jsxs("div",{onClick:()=>i(`capitalBoxProfile/${n.id}`),className:_.capital__box,children:[l.jsx("div",{className:_.capital__img,children:n.img?l.jsx("img",{src:`${B}${n.img}`,alt:""}):l.jsx("img",{src:w,alt:""})}),l.jsxs("div",{className:_.capital__descr,children:[l.jsx("h3",{className:_.capital__title,children:n?.name}),l.jsx("h2",{children:n?.id_number})]})]}))})})}),O="_capitalHeader_1emzk_1",H="_active_1emzk_13",A="_capitalWrapper_1emzk_17",C={capitalHeader:O,active:H,capitalWrapper:A},ra=h.memo(({activeMenu:e,setActiveMenu:a,categoryMenu:i})=>{const t=i.map(c=>l.jsx("h2",{onClick:()=>a(c.name),className:k(C.itemName,{[C.active]:e===c.name}),children:c.label},c.name));return l.jsx("div",{className:C.capitalHeader,children:l.jsx("div",{className:C.capitalWrapper,children:t})})}),G="_capitalInfo__wrapper_1hzma_1",L="_capitalBox_1hzma_1",W="_capitalBox_img_1hzma_7",F="_capitalBoxInfo_1hzma_11",J="_capitalInfo__btn_1hzma_23",g={capitalInfo__wrapper:G,capitalBox:L,capitalBox_img:W,capitalBoxInfo:F,capitalInfo__btn:J},na=h.memo(({capitalData:e,editModal:a,setEditModal:i,onDelete:n})=>{const[t,c]=h.useState(!1),T=l.jsxs("div",{className:g.capitalBox,children:[l.jsx("div",{className:g.capitalBox_img,children:e.img?l.jsx("img",{src:e.img,alt:""}):l.jsx("img",{src:w,alt:""})}),l.jsxs("div",{className:g.capitalBoxInfo,children:[l.jsx("div",{children:e?.name}),l.jsxs("span",{children:["Kategoriya raqami: ",e?.id_number]}),l.jsxs("div",{className:g.capitalInfo__btn,children:[l.jsx(u,{onClick:i,children:"O’zgartirish"}),l.jsxs(u,{children:[l.jsx("i",{className:"fas fa-download"}),"Download File"]}),l.jsx(u,{onClick:()=>c(!t),type:"danger",children:"O’chirish"})]})]})]});return l.jsxs("div",{className:g.capitalInfo,children:[l.jsx("div",{className:g.capitalInfo__wrapper,children:T}),l.jsx(S,{setActive:c,active:t,onClick:n,title:"Rostanham ni o'chirmoqchimisiz ",type:"danger"})]})}),K="_product__header_94vca_1",M="_product__header_title_94vca_5",U="_product__header_right_94vca_9",V="_btn_94vca_23",Q="_product__wrapper_94vca_26",X="_box_94vca_31",Y="_box_item_94vca_37",s={product__header:K,product__header_title:M,product__header_right:U,btn:V,product__wrapper:Q,box:X,box_item:Y},ca=h.memo(({capitalData:e,addModal:a,setAddModal:i})=>{const n=D(),c=e?.map((r,T)=>l.jsxs("div",{onClick:()=>n(`categoryProfile/${r.id}`),className:s.box,children:[l.jsx("img",{src:w,alt:""}),l.jsxs("div",{className:s.box_item,children:[l.jsxs("h2",{children:["Nomi : ",r?.name]}),l.jsxs("ul",{children:[l.jsxs("li",{children:["Raqami : ",r?.id_number]}),l.jsxs("li",{children:["Narxi : ",r?.price]}),l.jsxs("li",{children:["Muddati : ",r?.term," yil"]}),l.jsxs("li",{children:["Sana : ",r?.date]}),l.jsxs("li",{children:["To'lov turi : ",r?.payment_type?.name]})]})]})]}));return l.jsxs("div",{className:s.product,children:[l.jsxs("div",{className:s.product__header,children:[l.jsx("div",{className:s.product__header_title,children:"Kategoriya mahsulotlari:"}),l.jsxs("div",{className:s.product__header_right,children:[l.jsxs("span",{children:["Jami (Down Cost): ",e?.length]}),l.jsxs("div",{children:[l.jsx(u,{type:"danger",children:"O’chirilganlar"}),l.jsx(u,{onClick:()=>i(!a),extraClass:s.btn,type:"editPlus",children:l.jsx("i",{className:"fa fa-plus"})})]})]})]}),l.jsx("div",{className:s.product__wrapper,children:c})]})}),f=o("capitalSlice/createCapitalCategory",async({data:e,changedImages:a})=>{const{request:i}=d(),n=new FormData;return n.append("img",a),n.append("name",e.name),n.append("id_number",e.id_number),await i(`${p}Capital/capital_category/`,"POST",n,$())}),x=o("capitalSlice/getCapitalDataThunk",async()=>{const{request:e}=d();return await e(`${p}Capital/capital_category/`,"GET",null,m())}),y=o("capitalSlice/getCapitalInfo",async e=>{const{request:a}=d();return await a(`${p}Capital/capital_category/${e}/`,"GET",null,m())}),j=o("capitalSlice/changeCapitalInfoThunk",async({id:e,data:a})=>{const{request:i}=d();return await i(`${p}Capital/capital_category/${e}/`,"PATCH",JSON.stringify(a),m())}),I=o("capitalSlice/getInsideCategory",async e=>{const{request:a}=d();return await a(`${p}Capital/capital/${e}/`,"GET",null,m())}),v=o("changeCapitalInfo/createInsideCategory",async({data:e,changedImages:a,selectPayment:i,selectedBranches:n,id:t})=>{const{request:c}=d(),r=new FormData;return r.append("name",e.name),r.append("img",a),r.append("category",t),r.append("branch",n),r.append("id_number",e.id_number),r.append("price",e.price),r.append("total_down_cost",e.total_down_cost),r.append("term",e.term),r.append("curriculum_hours",e.curriculum_hours),r.append("payment_type",i),await c(`${p}Capital/capital_create/`,"POST",r,$())}),b=o("changeCapitalInfo/Payments/payment-types/",async()=>{const{request:e}=d();return await e(`${p}Payments/payment-types/`,"GET",null,m())}),N=o("changeCapitalInfo/getCapitalCategory",async e=>{const{request:a}=d();return await a(`${p}Capital/capital_one/${e}/`,"GET",null,m())}),Z={loading:!1,error:null,capitalsData:[],capitalPermission:[],capitalCategoryInfo:[],capitalInsideCategory:[],paymentTypes:[],capitalCategory:[]},aa=P({name:"capitalSlice",initialState:Z,reducers:{onDeleteBranch:(e,a)=>{a.payload.id,e.capitalCategoryInfo=a.payload}},extraReducers:e=>e.addCase(x.pending,a=>{a.loading=!0,a.error=null}).addCase(x.fulfilled,(a,i)=>{a.loading=!1,a.capitalsData=i.payload}).addCase(x.rejected,(a,i)=>{a.error=i.payload??null,a.loading=!1}).addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,i)=>{a.loading=!1,a.capitalsData=[...a.capitalsData,i.payload],a.error=null}).addCase(f.rejected,(a,i)=>{a.error="Error",a.loading=!1}).addCase(y.pending,a=>{a.loading=!0,a.error=null}).addCase(y.fulfilled,(a,i)=>{a.capitalCategoryInfo=i.payload,a.loading=!1,a.error=null}).addCase(y.rejected,(a,i)=>{a.loading=!1,a.error=i.payload??null}).addCase(j.pending,a=>{a.loading=!0,a.error=null}).addCase(j.fulfilled,(a,i)=>{a.capitalCategoryInfo=i.payload,a.loading=!1,a.error=null}).addCase(j.rejected,(a,i)=>{a.loading=!1,a.error=i.payload??null}).addCase(I.pending,a=>{a.loading=!0,a.error=null}).addCase(I.fulfilled,(a,i)=>{a.capitalInsideCategory=i.payload,a.loading=!1,a.error=null}).addCase(I.rejected,(a,i)=>{a.loading=!1,a.error=i.payload??null}).addCase(v.pending,a=>{a.loading=!0,a.error=null}).addCase(v.fulfilled,(a,i)=>{a.loading=!1,a.capitalInsideCategory=[...a.capitalInsideCategory,i.payload],a.error=null}).addCase(v.rejected,(a,i)=>{a.error=i.payload??null,a.loading=!1}).addCase(b.pending,a=>{a.loading=!0,a.error=!1}).addCase(b.fulfilled,(a,i)=>{a.paymentTypes=i.payload,a.loading=!1,a.error=!1}).addCase(b.rejected,(a,i)=>{a.error="error",a.loading=!1}).addCase(N.pending,a=>{a.loading=!0,a.error=!1}).addCase(N.fulfilled,(a,i)=>{a.capitalCategory=i.payload,a.loading=!1,a.error=!1}).addCase(N.rejected,a=>{a.error="error",a.loading=!1})}),{onDeleteBranch:ta}=aa.actions,sa=e=>e.capital?.capitalsData,oa=e=>e.capital?.capitalCategoryInfo,da=e=>e.capital?.loading,pa=e=>e.capital.capitalPermission,_a=e=>e.capital?.capitalInsideCategory,ga=e=>e.capital?.paymentTypes;export{ia as C,pa as a,x as b,sa as c,f as d,_a as e,ga as f,da as g,y as h,b as i,I as j,oa as k,ra as l,na as m,ca as n,v as o,j as p};
