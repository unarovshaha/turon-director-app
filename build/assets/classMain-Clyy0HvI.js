import{j as s,F as B,a3 as H,I as A,B as u,r,u as k,e as P,A as V,h as E,o as q,a as g,g as L}from"./index-BEMsgrdT.js";import{u as S}from"./index.esm-DWlg3cF3.js";import{c as _,a as R,b as z,o as O,u as U,d as Z,e as G,f as J,g as K,h as Q,i as W,C as X,j as Y}from"./index-BEcOpWEF.js";import{Z as ss}from"./index-BWxd12Aw.js";import"./workerSelect-DLyD-aiQ.js";import"./seq-CgrMb3pt.js";import"./confirmModal-BVLRU1gM.js";import"./TransitionGroupContext-CXeTsCR6.js";import"./TransitionGroup-D1Qx5dKb.js";import"./Transition-BWmB4V01.js";const es="_header_1pgs1_1",as="_header__btn_1pgs1_9",y={header:es,header__btn:as},ts="data:image/svg+xml,%3csvg%20width='30'%20height='29'%20viewBox='0%200%2030%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.694824'%20width='28.5714'%20height='28.5714'%20rx='14.2857'%20fill='%23F9FAFB'/%3e%3cpath%20d='M9.98053%2011.1602V9.28516H19.9805V11.1602M13.1055%2019.2852H16.8555M14.9805%209.28516V19.2852'%20stroke='%2306B6D4'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ns="_switchHandler_1n7db_1",cs="_mainSwitch_1n7db_8",is="_mainSwitch__iconHandler_1n7db_18",ls="_mainSwitch__iconHandler__center_1n7db_30",rs="_mainSwitch__icon_1n7db_18",os="_changeColorBox_1n7db_51",ds="_mainSwitch__text__center_1n7db_64",hs="_activeBg_1n7db_79",ms="_passiveBg_1n7db_84",i={switchHandler:ns,mainSwitch:cs,mainSwitch__iconHandler:is,mainSwitch__iconHandler__center:ls,mainSwitch__icon:rs,changeColorBox:os,mainSwitch__text__center:ds,activeBg:hs,passiveBg:ms},_s=({isActive:e,onSwitch:n})=>{const t=()=>{n(!e)};return s.jsx("div",{className:i.switchHandler,children:s.jsx("div",{className:i.switchHandler,children:s.jsxs("button",{className:`${i.mainSwitch} ${e?`${i.activeBg}`:`${i.passiveBg}`} `,onClick:()=>{t(),n(!e)},children:[e?s.jsx("div",{children:s.jsx("span",{className:i.mainSwitch__iconHandler,children:s.jsx("div",{className:i.mainSwitch__icon,children:s.jsx("div",{className:i.changeColorBox})})})}):s.jsx("div",{children:s.jsx("span",{className:i.mainSwitch__iconHandler__center,children:s.jsx("img",{className:i.mainSwitch__icon,src:ts,alt:""})})}),e?s.jsx("h3",{className:i.mainSwitch__type,children:"Types"}):s.jsx("h3",{className:i.mainSwitch__text__center,children:" Color"})]})})})},xs=({createColor:e,setCreateColor:n,addColor:t,color:c,setColor:a})=>{const{register:l,handleSubmit:o}=S();return s.jsxs(B,{active:e,setActive:n,children:[s.jsx("h2",{children:"Rang qo'shish"}),s.jsx("div",{children:s.jsxs(H,{extraClassname:_.extraClassForm,onSubmit:o(t),children:[s.jsx(A,{name:"name",register:l}),s.jsxs("div",{className:_.changeColorItem,children:[s.jsxs("div",{className:_.color,children:[s.jsx("h2",{children:"Tanlangan rang : "}),s.jsx("div",{style:{fontSize:"2rem"},children:c})]}),s.jsx(ss,{style:{width:"30rem",height:"15rem"},color:c,onChange:a})]})]})})]})},js=({setAddClass:e,addClass:n,createClass:t})=>{const{register:c,handleSubmit:a,setValue:l}=S();return s.jsxs(B,{active:n,setActive:e,children:[s.jsx("h2",{children:"Sinf turi yaratish "}),s.jsx("div",{children:s.jsx(H,{extraClassname:_.extraClassForm,onSubmit:a(t),children:s.jsx(A,{placeholder:"sinf nomi",name:"name",register:c})})})]})},us=({activeEdit:e,setActiveEdit:n,onClick:t,edit:c,onDelete:a})=>{const{register:l,handleSubmit:o,setValue:p}=S();return s.jsxs(B,{active:e,setActive:n,children:[s.jsxs("div",{className:_.modalHeader,children:[" ",c?.name," ",s.jsx("span",{children:"ni o'zgartirish"})]}),s.jsx("div",{children:s.jsxs(H,{typeSubmit:"",extraClassname:_.extraClassForm,children:[s.jsx(A,{name:"name",register:l}),s.jsxs("div",{className:_.modalBtn,children:[s.jsx(u,{onClick:o(t),children:"Tastiqlash"}),s.jsxs(u,{onClick:o(a),type:"danger",children:["O'chirish",s.jsx("i",{className:"fa fa-trash"})]})]})]})})]})},ps=({setActiveSwitch:e,activeSwitch:n,setActiveEdit:t,activeEdit:c,edit:a,setEdit:l,activeMenu:o,setActiveMenu:p})=>{const[x,j]=r.useState("#ffffff"),{request:C}=P(),h=k(),[v,w]=r.useState(!1),[I,M]=r.useState(!1),[f,b]=r.useState(!1),{register:gs,handleSubmit:Ss,setValue:N}=S(),F=d=>{const{id:m}=a;t(!c),h(U({id:m,data:d}))},$=d=>{h(z(d)),w(!v)},T=()=>{const d=a.id;C(`${V}Class/class_types/${d}`,"DELETE",null,E()).then(m=>{h(O({id:d})),h(q({type:"success",status:!0,msg:m.msg})),t(!c)}).catch(m=>{console.log(m)})},D=d=>{const m={value:x,...d};b(!f),h(R(m))};return s.jsxs("div",{className:y.header,children:[s.jsxs("div",{className:y.header__btn,children:[s.jsx("div",{onClick:()=>M(!I),className:y.header__changeColor,children:s.jsx(_s,{onSwitch:()=>e(!n),isActive:n})}),n?s.jsxs("div",{style:{display:"flex"},children:[s.jsx(u,{onClick:()=>{w(!v),l(!a),N("name","sardor")},type:"editPlus",children:s.jsx("i",{className:"fa fa-plus"})}),s.jsxs(u,{onClick:()=>{t(!c),N("name",a.name)},type:"editPlus",children:[" ",s.jsx("i",{className:"fa fa-pen"})]})]}):s.jsx("div",{style:{display:"flex"},children:s.jsx(u,{onClick:()=>{b(!f),N("name",a.name)},type:"editPlus",children:s.jsx("i",{className:"fa fa-plus"})})})]}),s.jsx(xs,{color:x,setColor:j,createColor:f,setCreateColor:b,addColor:D}),s.jsx(js,{createClass:$,addClass:v,setAddClass:w}),s.jsx(us,{edit:a,onClick:F,activeEdit:c,setActiveEdit:t,onDelete:T})]})},Cs={class:"_class_bh908_1"},Is=()=>{const e=g(Z),n=g(G);g(J);const[t,c]=r.useState(e),[a,l]=r.useState({}),[o,p]=r.useState(!1),x=g(L),j=k();r.useEffect(()=>{x&&(j(K(x.id)),j(Q()),j(W()))},[x]);const[C,h]=r.useState(!0);return s.jsxs("div",{className:Cs.class,children:[s.jsx(ps,{activeMenu:t,activeEdit:o,setActiveEdit:p,edit:a,setEdit:l,activeSwitch:C,setActiveSwitch:h}),C?s.jsx(X,{setActiveEdit:p,classes:e,setActiveMenu:c,activeMenu:t,activeEdit:o,edit:a,setEdit:l}):s.jsx(Y,{color:n,edit:a,setEdit:l})]})};export{Is as ClassMain};
