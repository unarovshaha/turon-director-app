import{j as e,F as B,B as S,a3 as E,I as j,S as Q,r as u,u as D,a as N,D as P,o as $,d as w,e as H,A as O,h as q,b as W,aQ as X}from"./index-CTtC1zcc.js";import{C as V}from"./confirmModal-DQuz2eI0.js";import{a as I,c as Y,g as z,b as R,d as Z,p as ee,e as G,f as se,o as te,h as ae,i as ne,j as oe,k as ce,l as ie,m as le,n as re,q as de}from"./branchCreateSlice-u3Fo_PBR.js";import{g as me,a as ue}from"./branchSelector-u3o7YCHK.js";import{u as T}from"./index.esm-X1Z8qUg7.js";import{g as K,a as he}from"./systemSelector-CUSI55rJ.js";const xe="_location_1te3g_1",je="_location__wrapper_1te3g_4",pe="_locationsBox_1te3g_9",fe="_locationHeader_1te3g_15",ge="_location__info_1te3g_25",_e="_btn_1te3g_34",Ne="_plus_1te3g_42",ve="_formMain_1te3g_63",Se="_formBox_1te3g_70",ye="_formTitle_1te3g_80",be="_form_1te3g_63",i={location:xe,location__wrapper:je,locationsBox:pe,locationHeader:fe,location__info:ge,btn:_e,plus:Ne,formMain:ve,formBox:Se,formTitle:ye,form:be},Ce=({activeModal:s,setActive:o,register:n,handleSubmit:t,onChange:r,onDelete:a,setSelect:d,options:l,activeDel:m,setActiveDel:h})=>e.jsxs("div",{children:[e.jsxs(B,{setActive:o,active:s,children:[e.jsx(S,{onClick:()=>h(!m),extraClass:i.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(E,{onSubmit:t(r),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(j,{name:"name",register:n,title:"Name"}),e.jsx(j,{title:"Number",register:n,type:"number",name:"number"}),e.jsx(Q,{options:l,onChangeOption:d})]})})]}),e.jsx(V,{setActive:h,active:m,onClick:a,type:"danger"})]}),Le=({activeModal:s,setActive:o,register:n,handleSubmit:t,onChange:r,onDelete:a,setActiveDel:d,activeDel:l})=>e.jsxs("div",{children:[e.jsxs(B,{setActive:o,active:s,children:[e.jsx(S,{onClick:()=>d(!l),extraClass:i.btn,type:"editPlus",children:e.jsx("i",{className:"fa fa-trash"})}),e.jsx(E,{onSubmit:t(r),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(j,{name:"name",register:n,title:"Name"}),e.jsx(j,{name:"number",type:"Number",register:n,title:"System_id"})]})})]}),e.jsx(V,{setActive:d,active:l,onClick:a,type:"danger"})]}),Be=({activeModal:s,setActive:o,register:n,handleSubmit:t,onChange:r,onDelete:a,options:d,select:l,setSelected:m,setActiveDel:h,activeDel:x})=>e.jsxs("div",{children:[e.jsxs(B,{setActive:o,active:s,children:[e.jsx(S,{onClick:()=>h(!x),extraClass:i.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(E,{onSubmit:t(r),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(j,{register:n,name:"name",title:"Name"}),e.jsx(j,{title:"Number",register:n,name:"number",type:"number"}),e.jsx(j,{title:"Location",register:n,name:"location_text"})]})})]}),e.jsx(V,{setActive:h,active:x,onClick:a,type:"danger"})]}),Ee=({activeModal:s,setActive:o,register:n,handleSubmit:t,onChange:r,onDelete:a,setActiveDel:d,activeDel:l})=>e.jsxs("div",{children:[e.jsxs(B,{setActive:o,active:s,children:[e.jsx(S,{onClick:()=>d(!l),extraClass:i.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(E,{onSubmit:t(r),children:e.jsx("div",{style:{display:"flex",flexDirection:"column",padding:"3rem 2rem"},children:e.jsx(j,{title:"Name",register:n,name:"name"})})})]}),e.jsx(V,{setActive:d,active:l,onClick:a,type:"danger"})]}),U=s=>s.postBranch?.locationId,ke=s=>s.postBranch?.loading,Me="_formBox_1vh1p_1",_={formBox:Me},De=({active:s,setActive:o,loading:n})=>{const{register:t,handleSubmit:r,setValue:a}=T(),[d,l]=u.useState([]),m=D(),h=N(U);u.useEffect(()=>{m(I())},[]);const x=g=>{const v={...g,location:d};m($({status:!0,type:"success",msg:"maÊ¼lumotlari muvaffaqiyatli qushildi."})),m(Y(v)),m(z()),a("name",""),a("number",""),a("location_text",""),a("code",""),a("phone_number",""),o(!s)};return n?e.jsx(P,{}):e.jsx(B,{setActive:o,active:s,children:e.jsx("div",{className:_.formMain,children:e.jsxs("div",{className:_.formBox,children:[e.jsx("h1",{className:_.formTitle,children:"Branches"}),e.jsxs(E,{onSubmit:r(x),extraClassname:_.form,typeSubmit:"",children:[e.jsx(Q,{options:h,title:"System_id",onChangeOption:l}),e.jsx(j,{register:t,name:"name",placeholder:"Name"}),e.jsx(j,{register:t,name:"number",placeholder:"Number"}),e.jsx(j,{register:t,name:"location_text",placeholder:"Location"}),e.jsx(j,{register:t,name:"code",type:"number",placeholder:"Code"}),e.jsx(j,{register:t,name:"phone_number",type:"number",placeholder:"Phone Number"}),e.jsx(S,{children:"create"})]})]})})})},Te=s=>s.locationSlice?.system,Ae=({active:s,setActive:o})=>{const{register:n,handleSubmit:t,setValue:r}=T(),[a,d]=u.useState([]),l=D(),m=N(K);u.useEffect(()=>{l(R())},[]);const h=x=>{const g={...x,system:a};l(Z(g)),l(I()),o(!s),r("name",""),r("number",""),r("system","")};return e.jsx(B,{setActive:o,active:s,children:e.jsx("div",{className:_.formMain,children:e.jsxs("div",{className:_.formBox,children:[e.jsx("h1",{className:_.formTitle,children:"Location"}),e.jsxs(E,{onSubmit:t(h),extraClassname:_.form,children:[e.jsx(j,{register:n,name:"name",placeholder:"Name"}),e.jsx(j,{placeholder:"Number",register:n,name:"number"}),e.jsx(Q,{options:m,title:"System name",onChangeOption:d})]})]})})})},Ie=({active:s,setActive:o})=>{const{register:n,handleSubmit:t,setValue:r}=T(),a=D(),d=l=>{a(ee(l)),a(G()),r("name",""),o(!s)};return e.jsx(B,{active:s,setActive:o,children:e.jsx("div",{className:_.formMain,children:e.jsxs("div",{className:_.formBox,children:[e.jsx("h1",{className:_.formTitle,children:"Education "}),e.jsxs(E,{onSubmit:t(d),extraClassname:_.form,typeSubmit:"",children:[e.jsx(j,{name:"name",register:n,title:"Name"}),e.jsx(S,{children:"create"})]})]})})})},Je=()=>{const[s,o]=u.useState(!1),{register:n,setValue:t,handleSubmit:r}=T(),a=N(me),d=D(),[l,m]=u.useState(null),h=N(U),[x,g]=u.useState(!1),[v,y]=u.useState([]),[b,C]=u.useState(!1),{request:k}=H(),L=N(ue);u.useEffect(()=>{d(z())},[]),u.useEffect(()=>{d(I())},[]);const p=()=>{g(!x)},M=c=>{d(se({location_text:v,data:c,id:l.id})),o(!s),t("name",""),t("number","")},f=()=>a&&[...a].sort(A).map(c=>e.jsxs("div",{className:i.locationsBox,children:[e.jsxs("div",{className:i.locationHeader,children:[e.jsx("h2",{children:c?.name}),e.jsx(S,{onClick:()=>{o(!s),m(c),t("name",c.name),t("number",c.number),t("location_text",c.location_text)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsxs("div",{className:i.location__info,children:[e.jsx("h2",{children:c?.number}),e.jsx("span",{children:c.location_text})]})]}));function A(c,J){return c.id-J.id}const F=()=>{k(`${O}Branch/branch_delete/${l.id}/`,"DELETE",JSON.stringify({id:l.id}),q()).then(c=>{console.log(c),o(!s),d(te({id:l.id})),C(!1),d($({status:!0,type:"success",msg:c.msg}))}).catch(c=>{console.log(c)})};return L?e.jsx(P,{}):e.jsxs("div",{children:[e.jsxs("div",{className:i.location,children:[e.jsx("div",{className:i.location__wrapper,children:f()}),e.jsx("i",{onClick:p,className:w("fa fa-plus",i.plus)}),e.jsx(Be,{activeDel:b,setActiveDel:C,onDelete:F,select:v,setSelected:y,options:h,activeModal:s,setActive:o,register:n,onChange:M,handleSubmit:r})]}),e.jsx(De,{loading:L,setActive:g,active:x})]})},Re=()=>{const{register:s,handleSubmit:o,setValue:n}=T(),[t,r]=u.useState(!1),[a,d]=u.useState(null),l=N(K),m=D();W();const[h,x]=u.useState(!1),g=N(he),{request:v}=H(),[y,b]=u.useState(!1);u.useEffect(()=>{m(R())},[m]);const C=f=>{m(ne({data:f,id:a.id})),r(!t),n("name",""),n("number","")},k=f=>{m(oe(f)),m(R()),n("name",""),n("number",""),x(!h)},L=()=>{v(`${O}System/systems/delete/${a.id}/`,"DELETE",JSON.stringify({id:a.id}),q()).then(f=>{r(!t),b(!y),m($({type:"success",msg:f.msg,status:!0})),m(ae({id:a.id}))}).catch(f=>{console.log(f)})},p=()=>l&&[...l].sort(M).map(f=>e.jsxs("div",{className:i.locationsBox,children:[e.jsxs("div",{className:i.locationHeader,children:[e.jsx("h2",{children:f?.name}),e.jsx(S,{onClick:()=>{r(!t),d(f)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsx("div",{className:i.location__info,children:e.jsx("span",{children:f?.number})})]},f.id));function M(f,A){return f.id-A.id}return g?e.jsx(X,{}):e.jsxs("div",{children:[e.jsxs("div",{className:i.location,children:[e.jsx("div",{className:i.location__wrapper,children:p()}),e.jsx("i",{onClick:()=>x(!h),className:w("fa fa-plus",i.plus)}),e.jsx(Le,{register:s,handleSubmit:o,onChange:C,activeModal:t,setActive:r,onDelete:L,activeDel:y,setActiveDel:b})]}),e.jsx(B,{active:h,setActive:x,children:e.jsx("div",{className:i.formMain,children:e.jsxs("div",{className:i.formBox,children:[e.jsx("h1",{className:i.formTitle,children:"System"}),e.jsxs(E,{onSubmit:o(k),extraClassname:i.form,typeSubmit:"",children:[e.jsx(j,{register:s,name:"name",title:"System"}),e.jsx(j,{type:"number",register:s,name:"number",title:"Number"}),e.jsx(S,{children:"create"})]})]})})})]})},$e=s=>s.getEducation?.educationName,Pe=s=>s.getEducation?.loading,Qe=()=>{const{register:s,handleSubmit:o,setValue:n}=T(),[t,r]=u.useState(!1),a=D(),d=N(Pe),l=N($e),[m,h]=u.useState([]),[x,g]=u.useState(!1),[v,y]=u.useState(!1),{request:b}=H();u.useEffect(()=>{a(G())},[]);const C=p=>{a(ce({data:p,id:m.id})),r(!t)},k=()=>{b(`${O}Language/language/${m.id}/`,"DELETE",JSON.stringify({id:m.id}),q()).then(p=>{a(ie({id:m.id})),r(!t),g(!1),y(!v),a($({msg:p.msg,type:"success",status:!0}))}).catch(p=>{console.log(p)})};function L(p,M){return p.id-M.id}return d?e.jsx(P,{}):e.jsxs("div",{className:i.location,children:[e.jsx("div",{className:i.location__wrapper,children:l&&[...l].sort(L).map(p=>e.jsx("div",{style:{width:"fit-content"},className:i.locationsBox,children:e.jsxs("div",{className:i.locationHeader,children:[e.jsx("h2",{children:p?.name}),e.jsx(S,{onClick:()=>{r(!t),h(p),n("name",p.name)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]})}))}),e.jsx("i",{onClick:()=>g(!x),className:w("fa fa-plus",i.plus)}),e.jsx(Ee,{onDelete:k,register:s,handleSubmit:o,onChange:C,activeModal:t,setActive:r,setActiveDel:y,activeDel:v}),e.jsx(Ie,{active:x,setActive:g})]})},Ue=()=>{const[s,o]=u.useState(!1),[n,t]=u.useState([]),{register:r,handleSubmit:a,setValue:d}=T(),l=N(U),m=N(ke),h=D(),[x,g]=u.useState(!1),[v,y]=u.useState([]),[b,C]=u.useState(!1),k=N(Te),{request:L}=H();u.useEffect(()=>{h(le()),h(I())},[]);const p=c=>{h(re({system:v,data:c,id:n.id})),d("name",""),d("number",""),h(I()),o(!s)},M=()=>{L(`${O}Location/location_delete/${n.id}/`,"DELETE",JSON.stringify({id:n.id}),q()).then(c=>{o(!s),h(de({id:n.id})),C(!b),h($({status:!0,type:"success",msg:c.msg}))}).catch(c=>{console.log(c)})},A=l&&[...l].sort(F).map(c=>e.jsxs("div",{className:i.locationsBox,children:[e.jsxs("div",{className:i.locationHeader,children:[e.jsx("h2",{children:c.name}),e.jsx(S,{onClick:()=>{o(!s),t(c),d("name",c.name),d("number",c.number)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsxs("div",{className:i.location__info,children:[e.jsx("h2",{children:c.number}),e.jsx("span",{children:c.old_id})]})]}));function F(c,J){return c.id-J.id}return m?e.jsx(P,{}):e.jsxs("div",{className:i.location,children:[e.jsx("div",{className:i.location__wrapper,children:A}),e.jsx("i",{onClick:()=>g(!x),className:w("fa fa-plus",i.plus)}),e.jsx(Ce,{options:k,onDelete:M,setSelect:y,onChange:p,handleSubmit:a,register:r,activeModal:s,setActive:o,setActiveDel:C,activeDel:b}),e.jsx(Ae,{loading:m,setActive:g,active:x})]})};export{Je as Branch,Qe as Education,Ue as Location,Be as ModalBranch,Ee as ModalEducation,Ce as ModalLocation,Le as ModalSystem,Re as System,z as getBranchThunk,he as getLoading,U as getLocation,me as getLocations,K as getSystemName};
