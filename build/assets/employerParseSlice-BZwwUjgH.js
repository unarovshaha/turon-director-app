import{c as F,e as B,A as U,h as M,b0 as qe,u as V,a as f,r,j as e,C as we,F as re,I as u,S as te,B as le,bL as Le,o as O,_ as Ae,aQ as ye,a4 as je,g as ne,X as De,Y as Pe,bM as ze,k as oe,bN as R,d as ve,a3 as ee,aO as Be,b as Ue,bO as Oe,D as Fe,T as Me,R as Se}from"./index-DMNo7Djr.js";import{u as be}from"./index.esm-DCZ7tiSb.js";import{E as P}from"./editableCard-BALn3aLm.js";import{R as Ve}from"./radio-BXOlB4L3.js";import{n as ie,s as Re,t as Ge,u as He,o as Ce}from"./ratingSlice-CFPOHUrM.js";import{L as Ne}from"./link-X2Ah1GNY.js";import"./teachers-CY3TjWvG.js";import{A as Je}from"./workerSelect-CSjoVJ0O.js";import{j as Ke,c as Ze,a as Qe}from"./oftenUsedSelector-DDKSaiMY.js";import{Z as Ye}from"./index-wiKzNV_y.js";import{a as Xe}from"./selectors-JgukZuJt.js";import{d as We}from"./userProfileSelector-DVds6RNm.js";import"./vacancyPageAddThunk-X10AL61i.js";import{g as es}from"./selectors-DKdp24P0.js";import"./pagination-D7QdfpUG.js";const ce=a=>a.teacherParseSlice?.teacherId,ss=a=>a.teacherParseSlice?.loading,as=a=>a.teacherParseSlice.students,ts=a=>a.teacherParseSlice.studentsLoading,rs="_info_7ugvy_25",ns="_info__avatar_7ugvy_30",ls="_info__image_7ugvy_37",is="_info__role_7ugvy_43",os="_info__text_7ugvy_50",cs="_info__addInfo_7ugvy_63",_s="_info__balance_7ugvy_77",ds="_info__money_7ugvy_88",ms="_boxEs_7ugvy_97",us="_username_7ugvy_102",D={info:rs,info__avatar:ns,info__image:ls,info__role:is,info__text:os,info__addInfo:cs,info__balance:_s,info__money:ds,boxEs:ms,username:us},se=F("employerParseSlice/fetchTeacherId",async a=>{const{request:s}=B();return await s(`${U}Users/employers/${a}/`,"GET",null,M())}),ae=F("employerEditSlice/editTeacherThunk",async({id:a,updateEmployer:s})=>{const{request:n}=B();return await n(`${U}Users/users/update/${a}/`,"PATCH",JSON.stringify(s),M())}),ht=F("employerParseSlice/changeTeacherProfileImage",async({id:a,data:s})=>{const n=new FormData;n.append("profile_img",s);const{request:g}=B();return g(`${U}Users/users/update/${a}/`,"PATCH",n,qe())}),Te=a=>a.employerParseSlice?.employerId,hs=a=>a.employerParseSlice.loading,fs="_app_school_theme_1dzqd_1",ps="_filter_1dzqd_13",xs="_filter__container_1dzqd_19",gs="_filter__select_1dzqd_28",ys="_filter__age_1dzqd_31",js="_filter__input_1dzqd_36",vs="_filter__status_1dzqd_40",Ss="_filter__inner_1dzqd_45",bs="_filter__radio_1dzqd_51",Cs="_yellow_1dzqd_55",Ns="_red_1dzqd_58",Ts="_filter__switch_1dzqd_61",ks="_inputAge_1dzqd_67",Is="_submitBtn_1dzqd_71",$s="_extraClasses_1dzqd_80",Es="_successMess_1dzqd_84",h={app_school_theme:fs,filter:ps,filter__container:xs,filter__select:gs,filter__age:ys,filter__input:js,filter__status:vs,filter__inner:Ss,filter__radio:bs,yellow:Cs,red:Ns,filter__switch:Ts,inputAge:ks,submitBtn:Is,extraClasses:$s,successMess:Es},qs=({isOpen:a,onClose:s,onUpdate:n,teacherId:g})=>{const _=V(),t=f(ce),m=f(Ke),l=f(Ze),j=f(Qe),[i,y]=r.useState(""),[b,T]=r.useState(""),[k,I]=r.useState(""),[L,A]=r.useState(""),[v,C]=r.useState(""),[p,$]=r.useState(""),[c,E]=r.useState(""),[q,K]=r.useState(null),[Z,Q]=r.useState(""),[d,_e]=r.useState([]),[G,ke]=r.useState("black"),[de,me]=r.useState(),[ue,he]=r.useState(),[fe,Y]=r.useState(""),[Xa,X]=r.useState(!0),Ie=j?.map(o=>({value:o?.id,label:o?.name})),{request:$e}=B();r.useEffect(()=>{i&&i!==t?.user?.username?(async()=>{try{const pe=await await $e(`${U}Users/username-check/`,"POST",JSON.stringify({username:i}),M());pe.exists===!0?(Y(e.jsxs("p",{className:h.errorMess,children:[e.jsx("i",{className:"fa-solid fa-circle-exclamation",style:{color:"#f15c5c"}}),"Username band"]})),X(!1)):pe.exists===!1&&(Y(e.jsxs("p",{className:h.successMess,children:[e.jsx("i",{className:"fa-solid fa-circle-check"}),"Username bo'sh"]})),X(!0))}catch(W){console.error("Error checking username:",W),Y("Error checking username"),X(!1)}})():(Y(e.jsx("p",{children:"Username kiriting"})),X(!1))},[i,t]),r.useEffect(()=>{_(we())},[]),r.useEffect(()=>{t&&(K(t?.salary_percentage),me(t?.working_hours),T(t.user?.name),I(t.user?.surname),$(t.user?.phone),E(t.user?.birth_date),C(t?.teacher_salary_type),Q(t?.class_type),he(t?.class_salary),y(t?.user?.username),A(t?.user?.father_name),_e(t?.subject?.map(o=>({value:o?.id,label:o?.name}))))},[t]);const Ee=()=>{if(!t)return;const o={user:{name:b,surname:k,phone:p,age:c,username:i,father_name:L},teacher_salary_type:v,class_type:Z,subject:d.map(W=>W?.value),color:G,working_hours:+de,salary_percentage:+q,class_salary:ue};_(Le({id:t.id,updateTeacher:o})).then(()=>{n(o),_(O({type:"success",status:!0,msg:"Ma'lumot muvofaqqiyatli o'zgartirildi"})),s()})};return a?e.jsx(re,{active:a,setActive:s,children:e.jsxs("div",{className:h.filter,children:[e.jsx("h1",{children:"Ma'lumotlarni o'zgartirish"}),e.jsxs("div",{className:h.filter__container,children:[e.jsxs("div",{className:h.filter__age,children:[e.jsx(u,{type:"text",title:fe&&e.jsx("p",{className:h.mess,children:fe}),extraClassName:h.filter__input,placeholder:"Username",onChange:o=>y(o.target.value),value:i}),e.jsx(u,{type:"text",title:"Ism",extraClassName:h.filter__input,placeholder:"Ism",onChange:o=>T(o.target.value),value:b}),e.jsx(u,{type:"text",title:"Familiya",extraClassName:h.filter__input,placeholder:"Familiya",onChange:o=>I(o.target.value),value:k}),e.jsx(u,{type:"text",title:"Otasing ismi",extraClassName:h.filter__input,placeholder:"Otasing ismi",onChange:o=>A(o.target.value),value:L}),e.jsx(u,{type:"number",title:"Tel raqami",extraClassName:h.filter__input,placeholder:"Tel raqami",onChange:o=>$(o.target.value),value:p}),e.jsx(u,{type:"date",extraClassName:h.inputAge,placeholder:"Tug'ilgan yili",title:"Tug'ilgan yili",onChange:o=>E(o.target.value),value:c}),e.jsx(u,{type:"number",extraClassName:h.inputAge,placeholder:"Ustama foiz",title:"Ustama foiz",onChange:o=>K(o.target.value),value:q}),e.jsx(Je,{options:Ie,onChange:_e,extraClass:h.multiSelect,value:d,fontSize:15}),e.jsx(te,{extraClass:h.extraClasses,name:"category",options:m,defaultValue:v?.id??v,onChangeOption:C,title:"Toifa"}),e.jsx(te,{extraClass:h.extraClasses,name:"class_type",options:l,onChangeOption:Q,title:"Sinf",defaultValue:Z}),e.jsx(u,{type:"number",title:"Darslik soat",extraClassName:h.filter__input,placeholder:"Darslik soat",onChange:o=>me(o.target.value),value:de}),e.jsx(u,{type:"number",title:"Sinfdan oylik",extraClassName:h.filter__input,placeholder:"Darslik soat",onChange:o=>he(o.target.value),value:ue}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h3",{children:"Rang qushish :"})," ",e.jsx("div",{style:{backgroundColor:G||"black",width:"30px",height:"30px",borderRadius:"5px",boxShadow:G==="#ffffff"?"0 0 5px 0":null}})]}),e.jsx(Ye,{style:{width:"30rem",height:"15rem"},color:G,onChange:ke})]})]}),e.jsx("div",{style:{display:"flex",gap:"5px"},children:e.jsx(le,{children:"Resume O'zgartirish"})}),e.jsxs("div",{className:h.filter__switch,children:[e.jsx("div",{}),e.jsx(le,{extraClass:h.submitBtn,type:"submit",children:"Button",onClick:Ee})]})]})]})}):null},ws="_filter_19odb_13",Ls="_filter__container_19odb_19",As="_filter__age_19odb_28",Ds="_filter__input_19odb_33",Ps="_filter__switch_19odb_58",zs="_inputAge_19odb_64",Bs="_submitBtn_19odb_68",w={filter:ws,filter__container:Ls,filter__age:As,filter__input:Ds,filter__switch:Ps,inputAge:zs,submitBtn:Bs},Us=({isOpen:a,onClose:s,onUpdate:n,teacherId:g})=>{const _=V(),t=f(Te),m=f(es),l=f(We),[j,i]=r.useState(),[y,b]=r.useState(),[T,k]=r.useState(""),[I,L]=r.useState(""),[A,v]=r.useState(""),[C,p]=r.useState(""),[$,c]=r.useState(""),[E,q]=r.useState(null),[K,Z]=r.useState([]);r.useEffect(()=>{_(Ae())},[]),r.useEffect(()=>{m&&E&&Z(()=>l==="director"?m.map(d=>({id:d?.group?.id,name:d?.group?.name})):m.filter(d=>d?.name!=="director"&&d?.name!=="admin").map(d=>({id:d?.group?.id,name:d?.group?.name})))},[m]),r.useEffect(()=>{t&&(k(t?.user?.name),L(t?.user?.surname),v(t?.user?.phone),p(t?.user?.birth_date),c(t?.salary),q(t?.group?.id))},[t]);const Q=()=>{if(!t)return;const d={name:T,surname:I,phone:A,birth_date:C,money:$,profession:+E};_(ae({id:t.user?.id,updateEmployer:d})).then(()=>{_(O({type:"success",status:!0,msg:"Ma'lumot muvofaqqiyatli o'zgartirildi"})),_(se(t.id)),s()})};return a?e.jsx(re,{active:a,setActive:s,children:e.jsxs("div",{className:w.filter,children:[e.jsx("h1",{children:"Ma'lumotlarni o'zgartirish"}),e.jsxs("div",{className:w.filter__container,children:[e.jsx(u,{type:"text",extraClassName:w.inputAge,placeholder:"Ism",onChange:d=>k(d.target.value),value:T}),e.jsxs("div",{className:w.filter__age,children:[e.jsx(u,{type:"text",extraClassName:w.filter__input,placeholder:"Familiya",onChange:d=>L(d.target.value),value:I}),e.jsx(u,{type:"number",extraClassName:w.filter__input,placeholder:"Tel raqami",onChange:d=>v(d.target.value),value:A}),e.jsx(u,{type:"date",extraClassName:w.inputAge,placeholder:"Tug'ilgan yili",onChange:d=>p(d.target.value),value:C}),e.jsx(u,{type:"number",extraClassName:w.inputAge,placeholder:"Oylik",onChange:d=>c(d.target.value),value:$}),e.jsx(te,{extraClass:w.inputAge,options:K,onChangeOption:q,defaultValue:E})]}),e.jsxs("div",{className:w.filter__switch,children:[e.jsx("div",{}),e.jsx(le,{extraClass:w.submitBtn,type:"submit",children:"Button",onClick:Q})]})]})]})}):null},ft=r.memo(({active:a,setActive:s,setActiveModal:n,newImage:g})=>{const _=f(hs);V();const t=f(Te),[m,l]=r.useState({});r.useEffect(()=>{t&&l(t)},[t]);const j=i=>{l(y=>({...y,...i}))};return e.jsxs(P,{onClick:()=>s(!0),extraClass:D.info,title:e.jsx("i",{className:"fas fa-edit"}),children:[_?e.jsx(ye,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:D.info__avatar,children:[e.jsx("img",{onClick:()=>n("changeImage"),className:D.info__image,src:t?.profile_img??je,alt:""}),e.jsx("div",{className:D.boxEs,children:e.jsx("h1",{className:D.username,title:t.user?.username,children:t.user?.username})}),e.jsx("h2",{className:D.info__role,children:"Employer"})]}),e.jsxs("div",{className:D.info__text,children:[e.jsxs("p",{children:["Ism: ",e.jsx("span",{children:t.user?.name})]}),e.jsxs("p",{children:["Familiya: ",e.jsx("span",{children:t.user?.surname})]}),e.jsxs("p",{children:["Otasinig ismi: ",e.jsx("span",{children:t.user?.father_name})]}),e.jsxs("p",{children:["Telefon raqami: ",e.jsx("span",{children:t.user?.phone})]}),e.jsxs("p",{children:["Yoshi: ",e.jsx("span",{children:t.user?.age})]}),e.jsxs("p",{children:["Tug'ilgan sana: ",e.jsx("span",{children:t.user?.birth_date})]}),e.jsx("div",{className:D.info__addInfo,children:e.jsx("i",{className:"fas fa-plus"})})]})]}),e.jsx(Ne,{to:`employerSalaryPage/${t.user?.id}`,children:e.jsxs(P,{extraClass:D.info__balance,children:[e.jsx("h2",{children:"Balans"}),e.jsx("p",{children:"Summa"}),e.jsxs("div",{className:D.info__money,children:[e.jsx("h2",{children:"$ 570.000"}),e.jsx("p",{children:"$ 390.000"})]})]})}),e.jsx(Us,{isOpen:a,onClose:()=>s(!1),onUpdate:j,teacherId:m.id})]})}),Os="_filter_10b8w_1",Fs="_filter__container_10b8w_9",xe={filter:Os,filter__container:Fs},Ms="_group_1lesa_1",Vs="_groupText_1lesa_8",Rs="_groupText_text_1lesa_12",Gs="_cardBg_1lesa_20",Hs="_groupList_1lesa_27",Js="_leftGroup_1lesa_35",Ks="_lists_1lesa_42",Zs="_list_title_1lesa_46",Qs="_list_number_1lesa_50",Ys="_groupImgBox_1lesa_54",Xs="_circleImg_1lesa_62",Ws="_groupImage_1lesa_71",ea="_groupsContainer_1lesa_75",x={group:Ms,groupText:Vs,groupText_text:Rs,cardBg:Gs,groupList:Hs,leftGroup:Js,lists:Ks,list_title:Zs,list_number:Qs,groupImgBox:Ys,circleImg:Xs,groupImage:Ws,groupsContainer:ea},sa="data:image/svg+xml,%3csvg%20width='137'%20height='201'%20viewBox='0%200%20137%20201'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M26.9326%2043.537L25.0748%2044.3008C18.8223%2035.375%2013.4924%2025.8373%209.16713%2015.8345L8.35835%2013.9641L1.04492%20-2.94922H73.1345L58.9841%2017.0984C55.717%2021.727%2054.77%2027.6048%2056.4181%2033.0252L61.1195%2040.0053H47.0151H44.8101C38.6777%2040.0053%2032.6044%2041.2051%2026.9326%2043.537Z'%20fill='%23BAE6FD'/%3e%3cpath%20d='M56.547%2017.2346L71.0056%20-4H153.582V206H71.0056L54.8169%20184.263C53.1426%20182.014%2052.2383%20179.286%2052.2383%20176.483C52.2383%20174.172%2052.9821%20171.924%2054.3598%20170.069L61.5902%20160.335C63.8029%20157.356%2067.2948%20155.6%2071.0056%20155.6L86.5556%20149.3L95.6711%20137.75L106.395%20123.575L109.613%20109.925V96.8V85.25L104.25%2072.65L95.6711%2058.475L84.4108%2049.55L71.0056%2043.25L57.6004%2040.1L54.1034%2031.5405C52.9033%2028.6027%2052.8408%2025.3232%2053.9283%2022.3419C54.5864%2020.5376%2055.4661%2018.822%2056.547%2017.2346Z'%20fill='%2300C2FF'/%3e%3cpath%20d='M22.3525%20165.728L29.2537%20156.125L64.2537%20159.275C56.7106%20170.015%2056.6111%20184.304%2064.004%20195.148L71.0448%20205.475H0L10.4327%20185.204C13.9206%20178.427%2017.9047%20171.918%2022.3525%20165.728Z'%20fill='%23BAE6FD'/%3e%3c/svg%3e",aa="/assets/group-img-B8FIKDnQ.svg";r.memo(()=>e.jsx("div",{className:x.groupsContainer,children:Ea.map(a=>e.jsxs(P,{extraClass:x.group,children:[e.jsx("img",{className:x.cardBg,src:sa,alt:""}),e.jsx("div",{className:x.groupText,children:e.jsxs("span",{className:x.groupText_text,children:[a,"-guruh"]})}),e.jsxs("div",{className:x.groupList,children:[e.jsxs("div",{className:x.leftGroup,children:[e.jsxs("div",{className:x.lists,children:[e.jsx("h2",{className:x.list_title,children:"Student number:"}),e.jsx("h2",{className:x.list_number,children:"12"})]}),e.jsxs("div",{className:x.lists,children:[e.jsx("h2",{className:x.list_title,children:"Student number:"}),e.jsx("h2",{className:x.list_number,children:"12"})]}),e.jsxs("div",{className:x.lists,children:[e.jsx("h2",{className:x.list_title,children:"Student number:"}),e.jsx("h2",{className:x.list_number,children:"12"})]})]}),e.jsx("div",{className:x.groupImgBox,children:e.jsx("div",{className:x.circleImg,children:e.jsx("img",{className:x.groupImage,src:aa,alt:""})})})]})]},a))}));const ta="_info_9v4is_25",ra="_info__avatar_9v4is_30",na="_info__image_9v4is_36",la="_info__role_9v4is_42",ia="_info__text_9v4is_49",oa="_info__addInfo_9v4is_62",ca="_info__balance_9v4is_76",_a="_info__money_9v4is_87",z={info:ta,info__avatar:ra,info__image:na,info__role:la,info__text:ia,info__addInfo:oa,info__balance:ca,info__money:_a},pt=r.memo(({active:a,setActive:s,setActiveModal:n,newImage:g,system:_})=>{const t=f(ss),m=V(),l=f(ce),[j,i]=r.useState({}),y=f(ne);console.log(y);const b=y.id;r.useEffect(()=>{m(De({branch:b})),m(Pe({branch:b})),m(ze(b)),l&&i(l)},[l]),r.useEffect(()=>{j?.msg&&m(O({type:"error",status:!0,msg:j?.msg}))},[j?.msg]);const T=k=>{i(I=>({...I,...k}))};return e.jsxs(P,{extraClass:z.info,title:null,children:[t?e.jsx(ye,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.info__avatar,children:[e.jsx("img",{onClick:()=>n("changeImage"),className:z.info__image,src:l.user?.profile_img??je,alt:""}),e.jsx("h1",{children:l.user?.username}),e.jsx("h2",{className:z.info__role,children:"Teacher"})]}),e.jsxs("div",{className:z.info__text,children:[e.jsx("h3",{style:{color:"red"},children:j?.msg}),e.jsxs("p",{children:["Ism: ",e.jsx("span",{children:l.user?.name})]}),e.jsxs("p",{children:["Familiya: ",e.jsx("span",{children:l.user?.surname})]}),e.jsxs("p",{children:["Otasinig ismi: ",e.jsx("span",{children:l.user?.father_name})]}),e.jsxs("p",{children:["Telefon raqami: ",e.jsx("span",{children:l.user?.phone})]}),e.jsxs("p",{children:["Yoshi: ",e.jsx("span",{children:l.user?.age})]}),e.jsxs("p",{children:["Tug'ilgan sana: ",e.jsx("span",{children:l.user?.birth_date})]}),e.jsxs("p",{children:["Darslik soat: ",e.jsx("span",{children:l?.working_hours})]}),e.jsx("div",{className:z.info__addInfo,children:e.jsx("i",{className:"fas fa-plus"})})]})]}),e.jsx(Ne,{to:`teacherSalaryPage/${l?.id}`,children:e.jsxs(P,{extraClass:z.info__balance,children:[e.jsx("h2",{children:"Balans"}),e.jsx("p",{children:"Summa"}),e.jsxs("div",{className:z.info__money,children:[_.name==="center"?e.jsx("h2",{children:"$ 570.000"}):null,e.jsx("p",{children:"$ 390.000"})]})]})}),e.jsx(qs,{isOpen:a,onClose:()=>s(!1),onUpdate:T,teacherId:j.id})]})}),da={salaries:[],loading:!1,error:null},ma=oe({name:"giveTeacherSalarySlices",initialState:da,reducers:{addSalary:(a,s)=>{a.salaries.push(s.payload)}},extraReducers:a=>{a.addCase(R.pending,s=>{s.loading=!0}).addCase(R.fulfilled,(s,n)=>{s.loading=!1,s.salaries.push(n.payload)}).addCase(R.rejected,(s,n)=>{s.loading=!1,s.error=n.payload})}}),{addSalary:ua}=ma.actions,ha="_amount_iziln_1",fa="_active_iziln_18",pa="_amount__header_iziln_21",xa="_items_iziln_26",ga="_items__inner_iziln_30",ya="_amount__content_iziln_35",ja="_form_iziln_54",va="_items__active_iziln_74",Sa="_form__inner_iziln_91",N={amount:ha,active:fa,amount__header:pa,items:xa,items__inner:ga,amount__content:ya,form:ja,items__active:va,form__inner:Sa},ba=[-1,34.8,70.4],Ca=r.memo(({active:a,setActive:s,salary_id:n,user_id:g})=>{const{register:_,handleSubmit:t}=be(),[m,l]=r.useState(ie[0]),[j,i]=r.useState(0),[y,b]=r.useState(0),T=f(ne),[k,I]=r.useState(1),[L,A]=r.useState(""),v=V();f(Xe);const C=async p=>{const $={salary:Number(y),comment:L,salary_id:n,payment:k,teacher:g,date:p.date,branch:T.id};try{const c=await v(R($));R.fulfilled.match(c)?(v(ua(c.payload)),v(O({type:"success",status:!0,msg:"Oylik muvofaqqiyatli to'landi"}))):R.rejected.match(c)&&v(O({type:"error",status:!0,msg:"Internet yoki serverda xatolik, qayta urinib ko'ring"}))}catch(c){console.error("An error occurred:",c)}v(Be(n)),s(!a)};return e.jsxs(P,{extraClass:ve(N.amount,{[N.active]:a==="balanceIn"}),titleType:"",onClick:()=>s("balance"),children:[e.jsx("div",{className:N.amount__header,children:e.jsxs("div",{className:N.items,children:[e.jsxs("div",{className:N.items__inner,children:[e.jsx("img",{src:Re,alt:""}),e.jsx("p",{children:"12 000 000"})]}),e.jsxs("div",{className:N.items__inner,children:[e.jsx("img",{src:Ge,alt:""}),e.jsx("p",{children:"11 000 000"})]}),e.jsxs("div",{className:N.items__inner,children:[e.jsx("img",{src:He,alt:""}),e.jsx("p",{children:"11 000 000"})]})]})}),e.jsx("div",{className:N.amount__content,children:e.jsxs("div",{className:N.form,children:[e.jsx("h1",{children:m}),e.jsxs("div",{className:N.items,children:[Ce.map((p,$)=>e.jsxs("div",{className:N.items__inner,onClick:()=>{i($),I($+1)},children:[e.jsx("p",{children:p.name}),e.jsx("img",{src:p.image,alt:""})]})),e.jsx("div",{className:N.items__active,style:{left:`${ba[j]}%`}})]}),e.jsx(ee,{onSubmit:t(C),children:e.jsxs("div",{className:N.form__inner,children:[e.jsx(u,{title:"Kuni",register:_,name:"date",type:"date",defaultValue:y,onChange:p=>b(p.target.value)}),e.jsx(u,{title:"To'lov miqdori",..._("amount"),placeholder:"Summa",type:"number",defaultValue:y,onChange:p=>b(p.target.value)}),e.jsx(u,{title:"Sababi",..._("comment"),placeholder:"Sababi",type:"text",defaultValue:L,onChange:p=>A(p.target.value)})]})})]})})]})}),Na="_groupsContainer_f9wxj_75",Ta="_classColor_f9wxj_90",ka="_classProfile_f9wxj_97",Ia="_theadBody_f9wxj_104",$a="_classList_f9wxj_111",H={groupsContainer:Na,classColor:Ta,classProfile:ka,theadBody:Ia,classList:$a},xt=r.memo(()=>{const{id:a}=f(ne),s=V(),n=Ue(),g=f(ce),_=f(as),t=f(ts),m=g?.group;r.useEffect(()=>{s(Oe({id:a}))},[]);const l=()=>_.map((i,y)=>e.jsxs("tr",{children:[e.jsx("td",{children:y+1}),e.jsx("td",{onClick:()=>n(`../students/profile/${i?.id}`),children:`${i?.name} ${i?.surname}`}),e.jsx("td",{children:i?.number}),e.jsx("td",{children:i?.parent_number}),e.jsx("td",{children:i?.debt})]}));console.log(m);const j=l();return e.jsxs("div",{className:H.groupsContainer,children:[m?.length===0?e.jsx(P,{children:e.jsx("h1",{children:"O'qituvchida guruhi yo'q"})}):m?.map((i,y)=>e.jsxs(P,{extraClass:H.classProfile,titleType:"",children:[e.jsx("h1",{children:"Sinfi"}),e.jsx("div",{onClick:()=>n(`../groups/groupInfo/${i?.id}`),className:H.classColor}),e.jsxs("h1",{children:[i?.class_number?.number,"-",i?.color?.name]})]})),e.jsxs(P,{extraClass:H.classList,children:[e.jsx("h1",{children:"O'quvchilar ro'yxati"}),_?.length?t?e.jsx(Fe,{}):e.jsxs(Me,{children:[e.jsx("thead",{className:H.theadBody,children:e.jsxs("tr",{children:[e.jsx("th",{children:"№"}),e.jsx("th",{children:"Ism familiya"}),e.jsx("th",{children:"Tel"}),e.jsx("th",{children:"Tel (ota-ona)"}),e.jsx("th",{children:"Qarz"})]})}),e.jsx("tbody",{children:j})]}):e.jsx("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("h1",{style:{fontSize:"3rem"},children:"O'quvchilar yo'q"})})]})]})}),Ea=[1,2],gt=Se.memo(({active:a,setActive:s,activePage:n,salary_id:g,permission_id:_,user_id:t})=>e.jsx(re,{active:a,setActive:s,children:e.jsxs("div",{className:xe.filter,children:[e.jsx("h1",{children:"Oylik berish"}),e.jsx("div",{className:xe.filter__container,children:e.jsx(Qa,{active:a,setActive:s,salary_id:g,permission_id:_,user_id:t})})]})})),J=F("giveEmployerSalarySlices/giveEmployerSalaryThunk",async(a,{rejectWithValue:s})=>{const{request:n}=B();try{(await n(`${U}Users/salaries/create/`,"POST",JSON.stringify(a),M())).ok}catch{console.log("ERrror")}}),qa={salaries:[],loading:!1,error:null},wa=oe({name:"giveEmployerSalarySlice",initialState:qa,reducers:{addSalary:(a,s)=>{a.salaries.push(s.payload)}},extraReducers:a=>{a.addCase(J.pending,s=>{s.loading=!0}).addCase(J.fulfilled,(s,n)=>{s.loading=!1,s.salaries.push(n.payload)}).addCase(J.rejected,(s,n)=>{s.loading=!1,s.error="error"})}}),{addSalary:La}=wa.actions,Aa="_amount_1tk2b_1",Da="_active_1tk2b_18",Pa="_items_1tk2b_25",za="_items__inner_1tk2b_29",Ba="_amount__content_1tk2b_34",Ua="_items__radio_1tk2b_50",Oa="_form_1tk2b_53",Fa="_items__active_1tk2b_73",Ma="_form__container_1tk2b_81",Va="_form__select_1tk2b_86",Ra="_form__inner_1tk2b_90",S={amount:Aa,active:Da,items:Pa,items__inner:za,amount__content:Ba,items__radio:Ua,form:Oa,items__active:Fa,form__container:Ma,form__select:Va,form__inner:Ra},yt=F("teacherSalaryDeleteSlice/teacherSalaryDeleteThunk",async a=>{const{request:s}=B();return await s(`${U}Teachers/teachers/salary/delete/${a}/`,"DELETE",null,M()),a}),jt=F("employerSalaryDeleteSlice/employerSalaryDeleteThunk",async a=>{const{request:s}=B();return await s(`${U}Users/salaries/delete/${a}/`,"DELETE",null,M()),a}),Ga=F("giveEmployerSalarySlice/fetchEmployerSalaryThunk",async a=>{const{request:s}=B();return await s(`${U}Users/salaries/${a}/?status=False`,"GET",null,M())}),Ha=a=>a.giveEmployerSalarySlice?.salaryInsideData,Ja="_filter_10b8w_1",Ka="_filter__container_10b8w_9",ge={filter:Ja,filter__container:Ka},vt=Se.memo(({active:a,setActive:s,salary_id:n,user_id:g})=>e.jsx(re,{active:a,setActive:s,children:e.jsxs("div",{className:ge.filter,children:[e.jsx("h1",{children:"Oylik berish "}),e.jsx("div",{className:ge.filter__container,children:e.jsx(Ca,{active:a,setActive:s,salary_id:n,user_id:g})})]})})),Za=[-1,34.8,70.4],Qa=r.memo(({active:a,setActive:s,salary_id:n,user_id:g,permission_id:_})=>{const{register:t,handleSubmit:m}=be(),[l,j]=r.useState(ie[0]),[i,y]=r.useState(0),[b,T]=r.useState(null),k=f(ne),[I,L]=r.useState(1),[A,v]=r.useState(""),C=V();f(Ha);const p=async c=>{const E={salary:Number(b),comment:A,deleted:!1,user_salary:n,permission:_,payment_types:I,user:g,branch:k.id,...c};try{const q=await C(J(E));J.fulfilled.match(q)?(C(La(q.payload)),C(O({type:"success",status:!0,msg:"Oylik muvofaqqiyatli to'landi"}))):(console.error("Thunk failed with error: ",q.payload),C(O({type:"error",status:!0,msg:"Internet yoki serverda xatolik qayta urinib ko'ring"})))}catch(q){console.error("An error occurred:",q)}C(Ga(n)),s(!a)};return r.useCallback(()=>ie.map(c=>e.jsxs("div",{className:S.items__inner,children:[e.jsx(Ve,{extraClasses:S.items__radio,onChange:()=>j(c),value:c,checked:c===l}),e.jsx("p",{children:c})]})),[l])(),e.jsx(P,{extraClass:ve(S.amount,{[S.active]:a==="balanceIn"}),titleType:"",onClick:()=>s("balance"),children:e.jsx("div",{className:S.amount__content,children:e.jsxs("div",{className:S.form,children:[e.jsx("h1",{children:l}),l==="To'lov"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:S.items,children:[Ce.map((c,E)=>e.jsxs("div",{className:S.items__inner,onClick:()=>{y(E),L(E+1)},children:[e.jsx("p",{children:c.name}),e.jsx("img",{src:c.image,alt:""})]})),e.jsx("div",{className:S.items__active,style:{left:`${Za[i]}%`}})]}),e.jsx(ee,{onSubmit:m(p),children:e.jsxs("div",{className:S.form__inner,children:[e.jsx(u,{title:"To'lov miqdori",...t("amount"),placeholder:"Summa",type:"number",defaultValue:b,onChange:c=>T(c.target.value),required:!0}),e.jsx(u,{title:"Sababi",...t("comment"),placeholder:"Sababi",type:"text",name:"comment",register:t,defaultValue:A,onChange:c=>v(c.target.value)}),e.jsx(u,{title:"Kuni",register:t,name:"date",placeholder:"Kuni",type:"date"})]})})]}):l==="Xayriya"?e.jsx(ee,{onSubmit:m(p),children:e.jsxs("div",{className:S.form__container,children:[e.jsx(te,{extraClass:S.form__select}),e.jsxs("div",{className:S.form__inner,children:[e.jsxs("p",{children:[l," miqdori"]}),e.jsx(u,{...t("amount"),placeholder:"Summa",type:"number"})]})]})}):e.jsx(ee,{children:e.jsxs("div",{className:S.form__inner,children:[e.jsxs("p",{children:[l," miqdori"]}),e.jsx(u,{...t("amount"),placeholder:"Summa",type:"number"})]})})]})})})}),Ya={employerId:[],loading:!1,error:null};oe({name:"teacherParseSlice",initialState:Ya,reducers:{},extraReducers:a=>{a.addCase(se.pending,s=>{s.loading=!0,s.error=null}).addCase(se.fulfilled,(s,n)=>{s.loading=!1,s.error=null,s.employerId=n.payload}).addCase(se.rejected,s=>{s.loading=!1,s.error="error"}).addCase(ae.pending,s=>{s.loading=!0,s.error=null}).addCase(ae.fulfilled,(s,n)=>{s.loading=!1,s.error=null,s.employerId={...s.employerId,...n.payload}}).addCase(ae.rejected,(s,n)=>{s.loading=!1,s.error=n.error.message})}});export{ft as E,gt as G,xt as S,pt as T,vt as a,Te as b,hs as c,se as d,jt as e,Ga as f,Ha as g,ht as h,ce as i,yt as t};
